<head>
  <title>chat-app-blaze</title>
  <script src="https://cdn.jsdelivr.net/npm/@joeattardi/emoji-button@3.0.3/dist/index.min.js"></script>
  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" referrerpolicy="no-referrer"></script>
  <!-- CSS only -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
<!-- JavaScript Bundle with Popper -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2" crossorigin="anonymous"></script>
</head>

<body>
  <!-- {{> loginButtons}} -->
  <!-- <hr /> -->
  {{#if currentUser}}
    {{> chat}}
    {{else}}
   {{>login}}
  {{/if}}
</body>
<template name="chat">
  {{#if isLoading}}
      <div class="loading">loading...</div>
      {{else}}
      <nav class="navbar navbar-light bg-light">
        <div class="container-fluid justify-content-end">
          <a class="btn btn-secondary dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-bs-toggle="dropdown" aria-expanded="false">
            {{getusername}}
          </a>
        
          <ul class="dropdown-menu justify-content-end" aria-labelledby="dropdownMenuLink" style="left: auto;">
            <li><a class="dropdown-item logout-button" href="#">LogOut</a></li>
          </ul>
        </div>
      </nav>
      {{#if userList}}
        {{ >message}}
        {{else}}
          <p>No users.</p>
        {{/if}}
  {{/if}}
</template>

<template name="login">
  {{#if register}}
  <form class="register-form">

    <div class="col-6 form-outline mb-4">
      <label class="form-label" for="form2Example1">UserName</label>
      <input type="text" name="username" id="form2Example1" class="form-control" />
    </div>

    <div class="col-6 form-outline mb-4">
      <label class="form-label" for="form2Example1">Email address</label>
      <input type="email" name="email" id="form2Example1" class="form-control" />
    </div>
  
    <!-- Password input -->
    <div class="col-6 form-outline mb-4">
      <label class="form-label" for="form2Example2">Password</label>
      <input type="password" name="password" id="form2Example2" class="form-control" />
    </div>

      <button type="submit" class="btn btn-primary btn-block mb-4">Sign up</button>
    
    <div class="text-center">
      <p>member? <a id="login">Login</a></p>

      
    </div>
  </form>
  
    {{else}}
      <form class="login-form">
        <div class="col-6 form-outline mb-4">
          <label class="form-label" for="form2Example1">Email address</label>
          <input type="email" name="email" id="form2Example1" class="form-control" />
        </div>
      
        <!-- Password input -->
        <div class="col-6 form-outline mb-4">
          <label class="form-label" for="form2Example2">Password</label>
          <input type="password" name="password" id="form2Example2" class="form-control" />
        </div>
    
          <button type="submit" class="btn btn-primary btn-block mb-4">Sign in</button>
        
        <div class="text-center">
          <p>Not a member? <a id="register">Register</a></p>
          
        </div>
      </form>
  {{/if}}
</template>
